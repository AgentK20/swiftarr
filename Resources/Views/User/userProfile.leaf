#extend("trunk"):
    #export("body"):
    	<div class="container-md ms-0 mt-2">
    		<div class="row justify-content-center">
    			<div class="col col-auto">
    				#if(profile.message != ""):
    					#(profile.message)
					#else:
	    				User Profile for: <b>@#(profile.header.username)</b>
					#endif
				</div>
			</div>
			<div class="row justify-content-center align-items-center mx-1 mb-3">
    			<div class="col col-auto p-1 border">
    				#avatar(profile.header, 200)
				</div>
				<div class="col-sm">
					#if(profile.header.displayName && profile.header.displayName != ""):
						Display Name: <b>#(profile.header.displayName)</b><br>
					#endif
					#if(profile.realName != ""):
						Real Name: <b>#(profile.realName)</b><br>
					#endif
					#if(profile.preferredPronoun != ""):
						Pronouns: <b>#(profile.preferredPronoun)</b><br>
					#endif
					#if(profile.email != ""):
						Email: <b>#(profile.email)</b><br>
					#endif
					#if(profile.homeLocation != ""):
						Home Town: <b>#(profile.homeLocation)</b><br>
					#endif
					#if(profile.roomNumber != ""):
						Room #: <b>#(profile.roomNumber)</b><br>
					#endif
				</div>
			</div>
			#if(profile.about != ""):
				<div class="row mx-1 mb-3 border">
					<div class="col col-auto p-1">
						<h6><b>About @#(profile.header.username)&#58;</b></h6>
						#(profile.about)
					</div>				
				</div>
			#endif
			#if(profile.header.userID != trunk.userID):
				<form class="ajax" action="#(noteFormAction)" enctype="multipart/form-data" method="POST"">
					<div class="row mx-1 pb-2 border">
						<div class="col col-12 p-1">
							<b>Your private note about @#(profile.header.username) (only visible to you):</b><br>
							<textarea class="form-control" maxlength="2000" rows="5" name="noteText" id=noteText" placeholder="">#(profile.note)</textarea>
						</div>				
						<div class="col col-12">
							<div class="alert alert-danger mt-3 d-none" role="alert">
							</div>				
						</div>				
						<div class="col col-auto me-auto">
						</div>
						<div class="col col-auto">
							<button type="submit" class="btn btn-primary btn-sm">Save</button>
						</div>
					</div>
				</form>
			#endif
			<div class="row mt-2">
				<div class="col btn-group btn-group-sm col-auto mx-1" role="group" aria-label="Profile actions">
					#if(trunk.userID == profile.header.userID):
						<a class="btn btn-sm btn-outline-primary" href="/profile/edit">Edit Profile</a>
					#else:
						<button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="\#blockModal">Block</button>
						<button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="\#muteModal">Mute</button>
						<a class="btn btn-outline-primary" href="/profile/report/#(profile.header.userID)">Report</a>
						#if(trunk.userIsMod):
							<a class="btn btn-sm btn-outline-primary" href="/moderate/userprofile/#(profile.header.userID)">Mod</a>
						#endif
					#endif
				</div>
			</div>
		</div>
		<div class="modal fade" id="blockModal" tabindex="-1" aria-labelledby="blockModalTitle" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="blockModalTitle">Block User @#(profile.header.username)?</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						Blocking a user will hide all that user's content from you, and also hide all your content from them.
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
						<button type="button" class="btn btn-primary" data-action="block" data-userid="#(profile.header.userID)">Block</button>
					</div>
					<div class="mx-3 pb-1 text-end text-danger" data-purpose="errordisplay">
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" id="muteModal" tabindex="-1" aria-labelledby="muteModalTitle" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="muteModalTitle">Mute User @#(profile.header.username)?</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						Muting a user will hide all that user's content from you.
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
						<button type="button" class="btn btn-primary" data-action="mute" data-userid="#(profile.header.userID)">Mute</button>
					</div>
					<div class="mx-3 pb-1 text-end text-danger" data-purpose="errordisplay">
					</div>
				</div>
			</div>
		</div>
    #endexport
#endextend

