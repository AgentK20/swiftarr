<!DOCTYPE html>
<html lang="en">
  <head>
    <title>UsersController Structure Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Struct/UsersController" class="dashAnchor"></a>

    <a title="UsersController Structure Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          swiftarr 0.1.0
        </a>
         (100% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/grundoon/swiftarr">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">App Reference</a>
      <img class="carat" src="../img/carat.png" />
      UsersController Structure Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Models.html">Models</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Barrel.html">Barrel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/RegistrationCode.html">RegistrationCode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Token.html">Token</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/User.html">User</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/User/Admin.html">– Admin</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/User/Public.html">– Public</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UserNote.html">UserNote</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UserNote/Edit.html">– Edit</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UserProfile.html">UserProfile</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UserProfile/Edit.html">– Edit</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UserProfile/Header.html">– Header</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UserProfile/Public.html">– Public</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UserProfile/Search.html">– Search</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Controllers.html">Controllers</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/AdminController.html">AdminController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/AuthController.html">AuthController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ClientController.html">ClientController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/TestController.html">TestController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/UserController.html">UserController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/UsersController.html">UsersController</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enumerations.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/BarrelType.html">BarrelType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/UserAccessLevel.html">UserAccessLevel</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/CharacterSet.html">CharacterSet</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Future.html">Future</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/RouteCollection.html">RouteCollection</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Migrations.html">Migrations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/AdminUser.html">AdminUser</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ClientUsers.html">ClientUsers</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/RegistrationCodes.html">RegistrationCodes</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/TestUsers.html">TestUsers</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Request%20Structs.html">Request Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/BarrelCreateData.html">BarrelCreateData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NoteCreateData.html">NoteCreateData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NoteUpdateData.html">NoteUpdateData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/UserAddData.html">UserAddData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/UserCreateData.html">UserCreateData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/UserPasswordData.html">UserPasswordData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/UserProfileData.html">UserProfileData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/UserRecoveryData.html">UserRecoveryData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/UserUsernameData.html">UserUsernameData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/UserVerifyData.html">UserVerifyData</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Return%20Structs.html">Return Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/AddedUserData.html">AddedUserData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/AlertKeywordData.html">AlertKeywordData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/BarrelData.html">BarrelData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/BarrelListData.html">BarrelListData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/BlockedUserData.html">BlockedUserData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CreatedNoteData.html">CreatedNoteData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CreatedUserData.html">CreatedUserData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CurrentUserData.html">CurrentUserData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/MuteKeywordData.html">MuteKeywordData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/MutedUserData.html">MutedUserData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NoteData.html">NoteData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/TokenStringData.html">TokenStringData</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Functions.html">Other Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Functions.html#/s:3App3appy5Vapor11ApplicationC7Service11EnvironmentVKF">app(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Functions.html#/s:3App4bootyy5Vapor11ApplicationCKF">boot(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Functions.html#/s:3App9configureyy7Service6ConfigVz_AC11EnvironmentVzAC8ServicesVztKF">configure(_:_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Functions.html#/s:3App6routesyy5Vapor6Router_pKF">routes(_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Structs.html">Other Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ProfileEdit.html">ProfileEdit</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/SeaMonkey.html">SeaMonkey</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>UsersController</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">UsersController</span> <span class="p">:</span> <span class="kt">RouteCollection</span></code></pre>

                </div>
              </div>
            <p>The collection of <code>/api/v3/user/*</code> route endpoints and handler functions related
to a user&rsquo;s own data.</p>

<p>Separating these from the endpoints related to users in general helps make for a
cleaner collection, since use of <code>User.parameter</code> in the paths here can be avoided
entirely.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <div class="task-name-container">
                <a name="/RouteCollection%20Conformance"></a>
                <a name="//apple_ref/swift/Section/RouteCollection Conformance" class="dashAnchor"></a>
                <a href="#/RouteCollection%20Conformance">
                  <h3 class="section-name">RouteCollection Conformance</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3App15UsersControllerV4boot6routery5Vapor6Router_p_tKF"></a>
                    <a name="//apple_ref/swift/Method/boot(router:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:3App15UsersControllerV4boot6routery5Vapor6Router_p_tKF">boot(router:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Required. Registers routes to the incoming router.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">boot</span><span class="p">(</span><span class="nv">router</span><span class="p">:</span> <span class="kt">Router</span><span class="p">)</span> <span class="k">throws</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/grundoon/swiftarr/tree/master/Sources/App/Controllers/UsersController.swift#L18-L50">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/sharedAuthGroup%20Handlers%20(logged%20in%20or%20not)"></a>
                <a name="//apple_ref/swift/Section/sharedAuthGroup Handlers (logged in or not)" class="dashAnchor"></a>
                <a href="#/sharedAuthGroup%20Handlers%20(logged%20in%20or%20not)">
                  <h3 class="section-name">sharedAuthGroup Handlers (logged in or not)</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3App15UsersControllerV11findHandlery3NIO15EventLoopFutureCyAA4UserC6PublicCG5Vapor7RequestCKF"></a>
                    <a name="//apple_ref/swift/Method/findHandler(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:3App15UsersControllerV11findHandlery3NIO15EventLoopFutureCyAA4UserC6PublicCG5Vapor7RequestCKF">findHandler(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>GET /api/v3/users/find/STRING</code></p>

<p>Retrieves a user&rsquo;s .Public info using either an ID (UUID string) or a username.</p>

<p>This endpoint is of limited utility, but is included for the case of obtaining a
user&rsquo;s ID from a username. If you have an ID and want the associated username, use
the more efficient <code>/api/v3/users/ID</code> endpoint instead.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>Because a username can be changed, there is no guarantee that a once-valid
username will result in a successful return, even though the User itself does
exist.</p>

</div>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p>404 error if no match is found.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">findHandler</span><span class="p">(</span><span class="n">_</span> <span class="nv">req</span><span class="p">:</span> <span class="kt">Request</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt"><a href="../Classes/User.html">User</a></span><span class="o">.</span><span class="kt">Public</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>req</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The incoming request <code>Container</code>, provided automatically.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The user&rsquo;s ID, username and timestamp of last info update.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/grundoon/swiftarr/tree/master/Sources/App/Controllers/UsersController.swift#L77-L102">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3App15UsersControllerV13headerHandlery3NIO15EventLoopFutureCyAA11UserProfileC6HeaderCG5Vapor7RequestCKF"></a>
                    <a name="//apple_ref/swift/Method/headerHandler(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:3App15UsersControllerV13headerHandlery3NIO15EventLoopFutureCyAA11UserProfileC6HeaderCG5Vapor7RequestCKF">headerHandler(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>GET /api/v3/users/ID/header</code></p>

<p>Retrieves the specified user&rsquo;s <code><a href="../Classes/UserProfile/Header.html">UserProfile.Header</a></code> info.</p>

<p>This endpoint provides one-off retrieval of the user information appropriate for
a header on posted content – the user&rsquo;s ID, current generated <code>.displayedName</code>, and
filename of their current profile image.</p>

<p>For bulk data retrieval, see the <code><a href="../Structs/ClientController.html">ClientController</a></code> endpoints.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    A 5xx response should be reported as a likely bug, please and thank you.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">headerHandler</span><span class="p">(</span><span class="n">_</span> <span class="nv">req</span><span class="p">:</span> <span class="kt">Request</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt"><a href="../Classes/UserProfile.html">UserProfile</a></span><span class="o">.</span><span class="kt">Header</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>req</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The incoming request <code>Container</code>, provided automatically.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The user&rsquo;s ID, <code>.displayedName</code> and profile image filename.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/grundoon/swiftarr/tree/master/Sources/App/Controllers/UsersController.swift#L117-L127">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3App15UsersControllerV14profileHandlery3NIO15EventLoopFutureCyAA11UserProfileC6PublicCG5Vapor7RequestCKF"></a>
                    <a name="//apple_ref/swift/Method/profileHandler(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:3App15UsersControllerV14profileHandlery3NIO15EventLoopFutureCyAA11UserProfileC6PublicCG5Vapor7RequestCKF">profileHandler(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>GET /api/v3/users/ID/profile</code></p>

<p>Retrieves the specified user&rsquo;s profile, as a <code><a href="../Classes/UserProfile/Public.html">UserProfile.Public</a></code> object.</p>

<p>This endpoint can be reached with either Basic or Bearer authenticaton. If using Basic
(requesting user is <em>not</em> logged in), the data returned may be a limited subset if the
profile user&rsquo;s <code>.limitAccess</code> setting is <code>true</code>, and the <code>.message</code> field will contain
text to inform the viewing user of that fact.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    404 error if the profile is not available. A 5xx response should be reported
as a likely bug, please and thank you.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">profileHandler</span><span class="p">(</span><span class="n">_</span> <span class="nv">req</span><span class="p">:</span> <span class="kt">Request</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt"><a href="../Classes/UserProfile.html">UserProfile</a></span><span class="o">.</span><span class="kt">Public</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>req</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The incoming request <code>Container</code>, provided automatically.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code><a href="../Classes/UserProfile/Edit.html">UserProfile.Edit</a></code> object containing the editable properties of the
profile.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/grundoon/swiftarr/tree/master/Sources/App/Controllers/UsersController.swift#L143-L186">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3App15UsersControllerV11userHandlery3NIO15EventLoopFutureCyAA4UserC6PublicCG5Vapor7RequestCKF"></a>
                    <a name="//apple_ref/swift/Method/userHandler(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:3App15UsersControllerV11userHandlery3NIO15EventLoopFutureCyAA4UserC6PublicCG5Vapor7RequestCKF">userHandler(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>GET /api/v3/users/ID</code></p>

<p>Retrieves the specified user&rsquo;s .Public info.</p>

<p>This endpoint provides one-off retrieval of a user&rsquo;s username and the timestamp of
the last time their publicly viewable data was updated. It would typically be used to:</p>

<ul>
<li>obtain a username from an ID</li>
<li>determine if a user&rsquo;s info has updated since it was last obtained (username change,
displayedName change, profile photo change, or any field on their profile)</li>
</ul>

<p>For bulk data retrieval, see the <code><a href="../Structs/ClientController.html">ClientController</a></code> endpoints.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    404 error if no match is found.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">userHandler</span><span class="p">(</span><span class="n">_</span> <span class="nv">req</span><span class="p">:</span> <span class="kt">Request</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt"><a href="../Classes/User.html">User</a></span><span class="o">.</span><span class="kt">Public</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>req</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The incoming request <code>Container</code>, provided automatically.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The user&rsquo;s ID, username and timestamp of last info update.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/grundoon/swiftarr/tree/master/Sources/App/Controllers/UsersController.swift#L204-L207">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/tokenAuthGroup%20Handlers%20(logged%20in)"></a>
                <a name="//apple_ref/swift/Section/tokenAuthGroup Handlers (logged in)" class="dashAnchor"></a>
                <a href="#/tokenAuthGroup%20Handlers%20(logged%20in)">
                  <h3 class="section-name">tokenAuthGroup Handlers (logged in)</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3App15UsersControllerV20matchAllNamesHandlery3NIO15EventLoopFutureCySayAA11UserProfileC6SearchCGG5Vapor7RequestCKF"></a>
                    <a name="//apple_ref/swift/Method/matchAllNamesHandler(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:3App15UsersControllerV20matchAllNamesHandlery3NIO15EventLoopFutureCySayAA11UserProfileC6SearchCGG5Vapor7RequestCKF">matchAllNamesHandler(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>GET /api/v3/users/match/allnames/STRING</code></p>

<p>Retrieves all <code><a href="../Classes/UserProfile.html#/s:3App11UserProfileC10userSearchSSvp">UserProfile.userSearch</a></code> values containing the specified substring,
returning an array of precomposed <code>.userSearch</code> strings in <code><a href="../Classes/UserProfile/Search.html">UserProfile.Search</a></code> format.
The intended use for this endpoint is to help isolate a particular user in an
auto-complete type scenario, by searching <strong>all</strong> of the <code>.displayName</code>, <code>.username</code>
and <code>.realName</code> profile fields.</p>

<p>Compare to <code>/api/v3/user/match/username/STRING</code>, which searches just <code>.username</code> and
returns an array of just strings.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    If the search substring contains <q>unsafe</q> characters, they must be url encoded.
Unicode characters are supported. A substring comprised only of whitespace is
disallowed. A substring of <q>@</q> or <q>(@</q> is explicitly disallowed to prevent single-step
username harvesting.

</div>

<p>For bulk <code>.userSearch</code> data retrieval, see the <code><a href="../Structs/ClientController.html">ClientController</a></code> endpoints.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    403 error if the search term is not permitted.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">matchAllNamesHandler</span><span class="p">(</span><span class="n">_</span> <span class="nv">req</span><span class="p">:</span> <span class="kt">Request</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="p">[</span><span class="kt"><a href="../Classes/UserProfile.html">UserProfile</a></span><span class="o">.</span><span class="kt">Search</span><span class="p">]</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>req</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>he incoming request <code>Container</code>, provided automatically.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The ID and profile.userSearch string values of all matching users.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/grundoon/swiftarr/tree/master/Sources/App/Controllers/UsersController.swift#L234-L254">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3App15UsersControllerV20matchUsernameHandlery3NIO15EventLoopFutureCySaySSGG5Vapor7RequestCKF"></a>
                    <a name="//apple_ref/swift/Method/matchUsernameHandler(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:3App15UsersControllerV20matchUsernameHandlery3NIO15EventLoopFutureCySaySSGG5Vapor7RequestCKF">matchUsernameHandler(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>GET /api/v3/users/match/username/STRING</code></p>

<p>Retrieves all usernames containing the specified substring, returning an array
of <code>@username</code> strings. The intended use for this endpoint is to help isolate a
particular user in an auto-complete type scenario.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>An <code>@</code> is prepended to each returned matching username as a convenience, but
should never be included in the search itself. No base username can contain an <code>@</code>,
thus there would never be a match.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">matchUsernameHandler</span><span class="p">(</span><span class="n">_</span> <span class="nv">req</span><span class="p">:</span> <span class="kt">Request</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="p">[</span><span class="kt">String</span><span class="p">]</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>req</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>he incoming request <code>Container</code>, provided automatically.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An array of <code>@username</code> strings.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/grundoon/swiftarr/tree/master/Sources/App/Controllers/UsersController.swift#L268-L282">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3App15UsersControllerV17noteCreateHandler_4data3NIO15EventLoopFutureCy5Vapor8ResponseCGAI7RequestC_AA04NoteE4DataVtKF"></a>
                    <a name="//apple_ref/swift/Method/noteCreateHandler(_:data:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:3App15UsersControllerV17noteCreateHandler_4data3NIO15EventLoopFutureCy5Vapor8ResponseCGAI7RequestC_AA04NoteE4DataVtKF">noteCreateHandler(_:data:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>POST /api/v3/users/ID/note</code></p>

<p>Creates a new <code><a href="../Classes/UserNote.html">UserNote</a></code> associated with the specified user&rsquo;s profile and the current
user.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>In order to support the editing of a note in contexts other than when
actively viewing a profile, the contents of <code>profile.note</code> cannot be used to determine
if there is an existing associated UserNote, since it is possible for a valid note to
contain no text at any given time. This means that a GET should be performed on this
endpoint prior to attempting a POST. If GET returns data, use <code>POST /api/v3/user/note</code>
to update the note instead of this endpoint.</p>

</div>
<div class="aside aside-requires">
    <p class="aside-title">Requires</p>
    <p><code><a href="../Structs/NoteCreateData.html">NoteCreateData</a></code> payload in the HTTP body.</p>

</div>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p>409 error if there is an existing note on the profile. A 5xx response should
be reported as a likely bug, please and thank you.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">noteCreateHandler</span><span class="p">(</span><span class="n">_</span> <span class="nv">req</span><span class="p">:</span> <span class="kt">Request</span><span class="p">,</span> <span class="nv">data</span><span class="p">:</span> <span class="kt"><a href="../Structs/NoteCreateData.html">NoteCreateData</a></span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Response</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>req</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The incoming request <code>Container</code>, provided automatically.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>data</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code><a href="../Structs/NoteCreateData.html">NoteCreateData</a></code> struct containing the text of the note.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The newly created note&rsquo;s ID and text.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/grundoon/swiftarr/tree/master/Sources/App/Controllers/UsersController.swift#L303-L344">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3App15UsersControllerV17noteDeleteHandlery3NIO15EventLoopFutureCy8NIOHTTP118HTTPResponseStatusOG5Vapor7RequestCKF"></a>
                    <a name="//apple_ref/swift/Method/noteDeleteHandler(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:3App15UsersControllerV17noteDeleteHandlery3NIO15EventLoopFutureCy8NIOHTTP118HTTPResponseStatusOG5Vapor7RequestCKF">noteDeleteHandler(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>POST /api/v3/users/ID/note/delete</code></p>

<p>Deletes an existing <code>UseerNote</code> associated with the specified user&rsquo;s profile and
the current user.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    400 error if there is no existing note on the profile. A 5xx response should
be reported as a likely bug, please and thank you.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">noteDeleteHandler</span><span class="p">(</span><span class="n">_</span> <span class="nv">req</span><span class="p">:</span> <span class="kt">Request</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">HTTPStatus</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>req</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The incoming request <code>Container</code>, provided automatically.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>204 No Content on success.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/grundoon/swiftarr/tree/master/Sources/App/Controllers/UsersController.swift#L355-L379">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:3App15UsersControllerV11noteHandlery3NIO15EventLoopFutureCyAA8UserNoteC4EditCG5Vapor7RequestCKF"></a>
                    <a name="//apple_ref/swift/Method/noteHandler(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:3App15UsersControllerV11noteHandlery3NIO15EventLoopFutureCyAA8UserNoteC4EditCG5Vapor7RequestCKF">noteHandler(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>GET /api/v3/users/ID/note</code></p>

<p>Retrieves an existing <code>UseerNote</code> associated with the specified user&rsquo;s profile and
the current user.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>In order to support the editing of a note in contexts other than when
actively viewing a profile, the contents of <code>profile.note</code> cannot be used to determine
if there is an exiting associated UserNote, since it is possible for a valid note to
contain no text at any given time. Use this GET endpoint prior to attempting a POST
to it.</p>

</div>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p>400 error if there is no existing note on the profile. A 5xx response should
be reported as a likely bug, please and thank you.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">noteHandler</span><span class="p">(</span><span class="n">_</span> <span class="nv">req</span><span class="p">:</span> <span class="kt">Request</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt"><a href="../Classes/UserNote.html">UserNote</a></span><span class="o">.</span><span class="kt">Edit</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>req</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The incoming request <code>Container</code>, provided automatically.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The note&rsquo;s ID and text.</p>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/grundoon/swiftarr/tree/master/Sources/App/Controllers/UsersController.swift#L396-L419">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2019 <a class="link" href="" target="_blank" rel="external">grundoon</a>. All rights reserved. (Last updated: 2019-11-27)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.12.0</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
